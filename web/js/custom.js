function showPopup(t){var e=t.prop("id");0==$("#popup-"+e).hasClass("active")?($(".c-toolbar-popup").hide().removeClass("active"),$("#popup-"+e).hide().addClass("active").fadeIn()):$(".c-toolbar-popup").hide().removeClass("active")}function recalculateCart(){var t=$(".o-cart-item").length;if(0==t)$(".o-cart-items").html('<div class="u-pl-40 u-pb-40">Your shopping cart is empty.</div>'),$(".o-cart-total").slideUp(),$(".shipping").slideUp();else{var e=0;$(".o-cart-item").each(function(){e+=parseFloat($(this).find(".o-cart-price").val())}),$(".o-cart-subtotal").html("$"+e.formatMoney(2,".",",")).hide().removeClass("u-hidden").slideDown(),$(".o-cart-total").hide().removeClass("u-hidden").slideDown(),e>100&&$(".shipping").hide().removeClass("u-hidden").slideDown()}$("#in_cart").html(t)}function reloadCart(){$.ajax({url:"/cart/reload",success:function(t){$(".o-cart-items").html(t),recalculateCart()}})}function bindCartRemove(){$(".o-cart-item-remove").click(function(){var t=$(this).closest(".o-cart-item"),e=t.find(".o-cart-key").val();$.ajax({url:"/cart/remove",data:"product="+e,type:"POST",success:function(){t.remove(),setTimeout(recalculateCart,1e3)}})}),$(".o-cart-item-remove").click(function(t){t.stopPropagation()})}function reloadWishlist(){$.ajax({url:"/wishlist/reload",success:function(t){$(".o-wishlist-items").html(t)}})}function resizeMobileMenu(){$(".c-menu-mobile").height($(window).height()-65)}function closeMobileMenu(){$(".c-menu-mobile-button").prop("src","/images/icon-menu.png"),$(".c-menu-mobile").slideUp().addClass("u-hidden")}$(window).load(function(){$(window).resize(function(){$(this).width()>767&&$(".c-main-menu").fadeIn()}),$(".u-tooltip").hover(function(){var t=$(this).attr("title");$(this).data("tipText",t).removeAttr("title"),$('<p class="u-tooltip-text"></p>').text(t).appendTo("body").fadeIn("slow")},function(){$(this).attr("title",$(this).data("tipText")),$(".u-tooltip-text").remove()}).mousemove(function(t){var e=t.pageX-40,i=t.pageY+20;$(".u-tooltip-text").css({top:i,left:e})}),$(".c-menu-mobile-button").click(function(){var t=$(this);$(".c-menu-mobile").hasClass("u-hidden")?(t.prop("src","/images/icon-close.png"),$(".c-menu-mobile").hide().removeClass("u-hidden").slideDown()):(t.prop("src","/images/icon-menu.png"),$(".c-menu-mobile").slideUp().addClass("u-hidden"))}),$(".c-box-icon").click(function(){showPopup($(this))}),$(".c-box-icon").mouseover(function(){$(window).width()>767&&showPopup($(this))}),$(".no-link").click(function(t){var e=$(this).prop("id");$(".no-link").removeClass("active"),$(this).addClass("active"),0==$("#popup-"+e).hasClass("active")?($(".c-menu-popup").fadeOut().removeClass("active"),$("#popup-"+e).hide().addClass("active").fadeIn(),$(window).width()<768&&$("#popup-"+e).height($(window).height()-37)):$(".c-menu-popup").fadeOut().removeClass("active"),t.preventDefault()}),$("html").click(function(){$(".menu-link").removeClass("active"),$(".c-toolbar-popup").fadeOut(),$(".o-search-xs").fadeOut(),$(".c-menu-popup").fadeOut().removeClass("active"),$(window).width()<768&&($(".c-main-menu").fadeOut(),resizeMobileMenu())}),$(".c-box-icon").click(function(t){t.stopPropagation()}),$(".menu-link").click(function(t){t.stopPropagation()}),$(".main-link").click(function(t){t.stopPropagation()}),$(".sub-link").click(function(t){t.stopPropagation()}),$(".o-search-xs").click(function(t){t.stopPropagation()}),$(window).scroll(function(){$(this).scrollTop()>=50?$("#return-to-top").fadeIn(200):$("#return-to-top").fadeOut(200)}),$("#return-to-top").click(function(){$("body,html").animate({scrollTop:0},500)}),$("a[href*=\\#]").on("click",function(){$(this.hash).length>0&&$("html,body").animate({scrollTop:$(this.hash).offset().top-140},500)}),$(".c-header").affix({offset:{top:100}}),$(".c-toolbar").affix({offset:{top:100}}),$(".search-query").change(function(){$("#searchForm").submit()}),$(".c-blog").click(function(){$(this).toggleClass("u-active"),$(this).find("figcaption").toggleClass("u-active").fadeIn()}),$(".c-menu-mobile").click(function(){closeMobileMenu()}),$(".shop-link").click(function(){$(this).find("i").toggleClass("fa-angle-down"),$(".main-link-items").slideToggle()}),$(".sub-link").click(function(){$(this).find("i").toggleClass("fa-angle-down"),$(this).next(".sub-link-items").slideToggle()}),$(".o-search").click(function(){$(".o-search-xs").toggleClass("u-hidden").show().focus()}),bindCartRemove(),recalculateCart(),resizeMobileMenu()}),Number.prototype.formatMoney=function(t,e,i){var o=this,t=isNaN(t=Math.abs(t))?2:t,e=void 0==e?".":e,i=void 0==i?",":i,n=0>o?"-":"",a=String(parseInt(o=Math.abs(Number(o)||0).toFixed(t))),s=(s=a.length)>3?s%3:0;return n+(s?a.substr(0,s)+i:"")+a.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?e+Math.abs(o-a).toFixed(t).slice(2):"")},$(".o-wishlist-item-remove").click(function(){var t=$(this).closest(".o-wishlist-item"),e=t.find(".o-wishlist-key").val();$.ajax({url:"/wishlist-toggle",data:"mode=remove&handle="+e,type:"POST",success:function(){t.remove(),setTimeout(reloadWishlist,1e3)}})});